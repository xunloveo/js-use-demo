<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>单例模式</title>
</head>
<body>
	<script>
		let getSingle = function (fn) {
			let result
			console.log(1)
			return function(){
				console.log('result', result)
				return result || (result = fn.apply(this, arguments))
			}
		}

		let createLoginLayer = function () { // 创建登录浮窗
			let div = document.createElement('div')
			div.innerHTML = '我是登录浮窗'
			document.body.appendChild(div)
			return div
		}

		let createSingleLoginLayer = getSingle(createLoginLayer)

		let loginLayer1 = createSingleLoginLayer()

		let loginLayer2 = createSingleLoginLayer()

		console.log(loginLayer1 === loginLayer1)
	</script>
</body>
</html>